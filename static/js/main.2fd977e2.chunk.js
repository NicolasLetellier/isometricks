(window.webpackJsonpisometricks=window.webpackJsonpisometricks||[]).push([[0],[,,,,function(e,t,o){e.exports=o.p+"static/media/isometricks_logo.6c9eaba8.svg"},,function(e,t,o){e.exports=o(17)},,,,,function(e,t,o){},function(e,t,o){},function(e,t,o){},function(e,t,o){},function(e,t,o){},function(e,t,o){},function(e,t,o){"use strict";o.r(t);var r=o(0),n=o.n(r),a=o(3),i=o.n(a),c=(o(11),o(5)),l=o(1),s=1;function u(e){return Math.sqrt(3)/2*e}function d(e,t,o){var r=u(e*s),n=u((e+1)*s),a=t*(s/2),i=t*(s/2)+s/2,c=t*(s/2)+s;return"left"===o?{topVertexCoord:[n,a],sideVertexCoord:[r,i],bottomVertexCoord:[n,c]}:"right"===o?{topVertexCoord:[r,a],sideVertexCoord:[n,i],bottomVertexCoord:[r,c]}:void 0}function f(e,t){var o=function(e,t){return e%2===t%2?"left":"right"}(e,t);return{orientation:o,coordinates:d(e,t,o)}}o(12);var p=function(e){var t=e.setActiveFace,o=e.backwardInHistory,r=e.forwardInHistory;return n.a.createElement("div",{className:"Toolbar"},n.a.createElement("button",{type:"button",className:"Toolbar-top",onClick:function(){return t("top")}},"top"),n.a.createElement("button",{type:"button",className:"Toolbar-left",onClick:function(){return t("left")}},"left"),n.a.createElement("button",{type:"button",className:"Toolbar-right",onClick:function(){return t("right")}},"right"),null!==o&&n.a.createElement("button",{type:"button",className:"Toolbar-backward",onClick:o},"backward"),null!==r&&n.a.createElement("button",{type:"button",className:"Toolbar-forward",onClick:r},"forward"))};o(13);var h=function(e){for(var t=e.presentation,o=e.gridDimensionsInTriangles,r=e.trianglesMap,a=e.triangleClickHandler,i=[],c=function(e){for(var c=function(o){var c=r[e][o],l=c.orientation,s=c.coordinates,u=s.topVertexCoord,d=s.sideVertexCoord,f=s.bottomVertexCoord;i.push(n.a.createElement("polygon",{key:"".concat(e,",").concat(o),points:"".concat(u[0],",").concat(u[1]," ").concat(d[0],",").concat(d[1]," ").concat(f[0],",").concat(f[1]),"data-orientation":l,stroke:t.stroke,strokeWidth:t.strokeWidth,fill:t.fill,onClick:a&&function(){return a({x:e,y:o},c)}}))},l=0;l<o.height;l++)c(l)},l=0;l<o.width;l++)c(l);return n.a.createElement("g",{className:"TrianglesGrid"},i)};o(14);var m=function(e){var t,o,r=e.gridDimensionsInTriangles,a=e.trianglesMap,i=e.triangleClickHandler,c=e.polygonStack,l=(t=r.width,o=r.height,{width:t*u(s),height:(o-1)*s/2+s}),d=[];return c.forEach((function(e,t){var o=e.points.reduce((function(e,t){return e+"".concat(t[0],",").concat(t[1]," ")}),"");d.push(n.a.createElement("polygon",{key:t,points:o,stroke:"none",fill:e.fill}))})),n.a.createElement("div",{className:"Frame"},n.a.createElement("svg",{className:"Frame-svg",viewBox:"0 0 ".concat(l.width," ").concat(l.height),preserveAspectRatio:"xMidYMin"},n.a.createElement("rect",{x:"0",y:"0",width:l.width,height:l.height,className:"Frame-background",stroke:"none",fill:"white"}),n.a.createElement(h,{presentation:{stroke:"silver",strokeWidth:"0.01",fill:"transparent"},gridDimensionsInTriangles:r,trianglesMap:a}),d,n.a.createElement(h,{presentation:{stroke:"none",fill:"transparent"},gridDimensionsInTriangles:r,trianglesMap:a,triangleClickHandler:i})))},g=(o(15),{width:33,height:45});var v=function(){var e=Object(r.useState)(null),t=Object(l.a)(e,2),o=t[0],a=t[1],i=Object(r.useState)([[]]),s=Object(l.a)(i,2),u=s[0],d=s[1],h=Object(r.useState)(null),v=Object(l.a)(h,2),b=v[0],k=v[1],x=u.length-1;function C(){return null===b?x:b}var w=function(e,t){for(var o=[],r=0;r<e;r++){o[r]=[];for(var n=0;n<t;n++)o[r][n]=f(r,n)}return o}(g.width,g.height);function y(){k(null===b?x-1:b-1)}function E(){k(b===x-1?null:b+1)}function V(e){var t=function(e,t){for(var o=Object(c.a)(e),r=t.points.flat().toString(),n=0;n<o.length;n++){if(o[n].points.flat().toString()===r){o.splice(n,1);break}}return o.concat(t)}(u[C()],e),o=u.slice(0,C()+1);o.push(t),d(o),k(null)}return n.a.createElement("div",{className:"Editor"},n.a.createElement(p,{setActiveFace:a,backwardInHistory:0===x||0===b?null:y,forwardInHistory:null===b?null:E}),n.a.createElement(m,{gridDimensionsInTriangles:g,trianglesMap:w,triangleClickHandler:function(e,t){if(null!==o){var r,n=function(e,t,o,r){var n=t.orientation,a=t.coordinates,i=[];if("left"===r||"right"===r)if(n===r){var c=o[e.x][e.y-1];if(void 0===c)return;var l=c.coordinates;i.push(l.topVertexCoord),i.push(a.topVertexCoord),i.push(a.bottomVertexCoord),i.push(a.sideVertexCoord)}else{var s=o[e.x][e.y+1];if(void 0===s)return;var u=s.coordinates;i.push(a.topVertexCoord),i.push(a.sideVertexCoord),i.push(u.bottomVertexCoord),i.push(a.bottomVertexCoord)}else if("top"===r)if("left"===n){var d=o[e.x+1];if(void 0===d)return;var f=d[e.y].coordinates;i.push(a.topVertexCoord),i.push(f.sideVertexCoord),i.push(a.bottomVertexCoord),i.push(a.sideVertexCoord)}else if("right"===n){var p=o[e.x-1];if(void 0===p)return;var h=p[e.y].coordinates;i.push(a.topVertexCoord),i.push(a.sideVertexCoord),i.push(a.bottomVertexCoord),i.push(h.sideVertexCoord)}return i}(e,t,w,o);if(void 0!==n)"top"===o?r="lightskyblue":"right"===o?r="mediumblue":"left"===o&&(r="royalblue"),V({type:"face",points:n,fill:r})}},polygonStack:u[C()]}))},b=o(4),k=o.n(b);o(16);var x=function(){return n.a.createElement("div",{className:"App"},n.a.createElement("header",{className:"App-header"},n.a.createElement("img",{src:k.a,className:"App-logo",alt:"logo"})),n.a.createElement(v,null))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(n.a.createElement(x,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}],[[6,1,2]]]);
//# sourceMappingURL=main.2fd977e2.chunk.js.map